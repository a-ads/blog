backend:
  # name: gitlab
  # repo: Leoplod/aads-blog-gatsby-netlifycms
  # auth_type: implicit
  # app_id: 55aa5600385313996d0ccd2a8af267b51317fa5340339796e5b53e8fb3a096e2
  name: gitlab
  repo: lev/blog
  base_url: https://gitlab0.int.a-ads.com
  api_root: https://gitlab0.int.a-ads.com/api/v4
  auth_endpoint: oauth/authorize
  auth_type: implicit
  app_id: 52373d0f5426390b5ac3bbe0ee0ebe0dba2242f8b03173558db165149c314997

media_folder: static/assets
public_folder: blog/assets

collections:
  - name: blog
    label: Blog
    folder: content/blog
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    fields:
      - { name: date, label: Date, widget: date }
      - { name: title, label: Title }
      - { name: tags, label: Tags, widget: list, default: ["news"], required: false }
      - { name: category,
          label: Category,
          widget: relation,
          collection: blog_categories,
          valueField: title,
          searchFields: [title],
          displayFields: [title]
        }
      - { name: thumbnail, label: Featured Image, widget: image, required: false, default: '' }
      - { name: big_picture, label: Square Image, widget: image, required: false, default: '' }
      - { name: body, label: Body, widget: markdown }

  - name: blog_categories
    label: Blog categories
    folder: content/blog_categories
    create: true
    extension: yml
    fields:
      - { name: title, label: Title }
      - { name: order, label: Order, default: '0' }

  - name: misc
    label: Misc
    files:
      - label: "Main jumbotron"
        name: main_jumbotron
        file: content/misc/main_jumbotron.yml
        create: true
        fields:
          - { label: Path to markdown, name: path, widget: string }
          - { label: Title, name: title, widget: string }
